float[][] colorTable = {
{0.03215,0.00000,0.06704}, // 380nm
{0.04994,0.00000,0.11193},
{0.08777,0.00000,0.19463},
{0.14477,0.00000,0.32333},
{0.23877,0.00000,0.54172},
{0.32410,0.00000,0.76634},
{0.33021,0.00000,0.85104},
{0.27034,0.00000,0.85575},
{0.06765,0.00000,0.83146},
{0.00000,0.09932,0.73634},
{0.00000,0.31041,0.59180},
{0.00000,0.42097,0.44733},
{0.00000,0.52628,0.32488},
{0.00000,0.64040,0.18917},
{0.00000,0.73454,0.00000},
{0.00000,0.78022,0.00000},
{0.00000,0.79118,0.00000},
{0.00000,0.77451,0.00000},
{0.39971,0.73284,0.00000},
{0.64746,0.66278,0.00000},
{0.81826,0.56132,0.00000},
{0.93567,0.42412,0.00000},
{0.99758,0.23823,0.00000},
{1.00000,0.00000,0.00000},
{0.94530,0.00000,0.00000},
{0.83838,0.00000,0.00000},
{0.71600,0.00000,0.00000},
{0.58376,0.00000,0.00000},
{0.45727,0.00000,0.00000},
{0.34301,0.00000,0.00000},
{0.25843,0.00000,0.00000},
{0.18611,0.00000,0.00000},
{0.13614,0.00000,0.00000},
{0.10007,0.00000,0.00000},
{0.07337,0.00000,0.00000},
{0.05252,0.00000,0.00000},
{0.03756,0.00000,0.00000},
{0.02624,0.00000,0.00000},
{0.02081,0.00000,0.00000},
{0.01729,0.00000,0.00264},
{0.00000,0.00000,0.00000}};

// range = 0 - 100
// 420(blue) / 534(green) / 564(red)
float[][] retinaTable = {
  {70, 35, 40}, // 380
  {78, 37, 39},
  {89, 38, 39}, // 400
  {97, 38, 36},
  {100, 37, 34},
  {95, 35, 31},
  {88, 36, 30},
  {71, 38, 28},
  {51, 42, 30},
  {38, 49, 34},
  {26, 57, 40},
  {20, 68, 48},
  {15, 79, 56}, // 500
  {10, 87, 64},
  {7, 95, 74},
  {3, 100, 83},
  {0, 99, 92},
  {0, 94, 97},
  {0, 83, 100},
  {0, 69, 98},
  {0, 53, 95},
  {0, 41, 86},
  {0, 30, 75}, // 600
  {0, 21, 62},
  {0, 14, 48},
  {0, 9, 33},
  {0, 7, 27},
  {0, 3, 17},
  {0, 0, 10},
  {0, 0, 7}, 
  {0, 0, 5}, // 680
};

void setup() {
  size(800, 800, OPENGL);
  smooth();
  
  colorMode(RGB, 100);
}

void draw() {
  camera(50 + 200*cos((float)frameCount / 180), 50 + 200*sin((float)frameCount / 180), 200,
  50, 50, 50, 0, 0, -1);

  background(100);

  noFill();
  strokeWeight(2);
  stroke(0, 0, 50);
  line(0, 0, 0, 150, 0, 0);
  stroke(0, 50, 0);
  line(0, 0, 0, 0, 150, 0);
  stroke(50, 0, 0);
  line(0, 0, 0, 0, 0, 150);
//  translate(50, 50, 50);
//  box(100);
  
//  translate(-50, -50, -50);
  
  int i=0;
  for (int l=380; l<=680; l+=10) {
    pushMatrix();

    stroke(colorTable[i][0]*100, colorTable[i][1]*100, colorTable[i][2]*100);
    translate(retinaTable[i][0], retinaTable[i][1], retinaTable[i][2]);
    sphere(3);
    i++;

    popMatrix();
  }
}
